/* Complex.js Copyright Isiah Meadows Licensed under GNU GPL v3 or later */ (function(u){function v(a){return!("Number"==l(a)||!s(a))}function l(a){return Object.prototype.toString.call(a).slice(8,-1)}function F(a){var b,c;Object.freeze(a);for(c in a)b=a[c],a.hasOwnProperty(c)&&"object"===typeof b&&!Object.isFrozen(b)&&deepFreeze(b)}function w(a,b){return"Number"==l(numTwo)?d(a.a*b,a.b*b):d(a.a*b.a,a.b*b.b)}function t(a,b){var c;if("Number"==l(num))c=d(a.a/b,a.b/b);else{c=b.a;var g=b.b;c=c*c+g*g;c=w(a,d(re/c,im/c))}return c}function x(){var a=this.a,b=this.b;return b?a?G(b, a):y(b):y(a)}function z(a){var b=a.a;return(a=a.b)?d(h(b)*q(a),k(b)*n(a)):f(h(b))}function A(a){var b=a.a;return(a=a.b)?b?d(k(b)*q(a),h(b)*n(a)):f(q(a)):f(k(b))}function B(a){var b=a.a;a=a.b;var c=n(b),g=h(a);return a?b?d(c*k(a),g*n(b)):r(g):f(c)}function C(a){var b=a.a;a=a.b;var c=q(b),g=k(a);return a?b?d(c*g,n(b)*h(a)):f(g):f(c)}var s=isFinite;if("Null"==l(null)){var d=function(a,b){return new p(a,b)},f=function(a){return d(a,0)},r=function(a){return d(0,a)},y=Math.abs,h=Math.sin,k=Math.cos,D=Math.tan, m=Math.exp,H=Math.sqrt,n=Math.sinh?Math.sinh:function(a){a=m(a);return(a-1/a)/2},q=Math.cosh?Math.cosh:function(a){a=m(a);return(a+1/a)/2},E=Math.tanh?Math.tanh:function(a){a=m(a);var b=1/a;return(a+b)/(a-b)},G=Math.hypot?Math.hypot:function(a,b){return a*H(1+(b/=a)*b)},p=function(a,b){this.a=a;this.b=b};p.prototype={length:2,toString:function(){var a=this.a,b=this.b,c,d;if(v(a)||v(b))return"NaN";if(!s(a)||!s(b))return"Infinity";if(b)return a+"";if(a)return b+"i";d=(c=0<b)?" + ":" - ";c||(b=-b);return 1== b?a+d+"i":a+d+b+"i"},plus:function(a){return"Number"==l(a)?d(this.a+a,this.b):d(this.a+a.a,this.b+a.b)},minus:function(a){return"Number"==l(a)?d(this.a-a,-this.b):d(this.a-a.a,this.b-a.b)},times:function(a){return w(this,a)},divide:function(a){return t(this,a)},exp:function(){var a=this.a,b=this.b;return b?d(m(a)*k(b),m(a)*h(b)):f(m(a))},sin:function(){return z(this)},cos:function(){return A(this)},tan:function(){var a=this.a,b=this.b;return b?a?t(z(this),A(this)):r(E(b)):f(D(a))},log:function(){return this.b? d(Math.log(x()),Math.atan2(this.b,this.a)):f(log(this.a))},sqrt:function(){var a=x(),b=Math.atan2(this.b,this.a)/2;return d(a*k(b),a*h(b))},sinh:function(){return B(this)},cosh:function(){return C(this)},tanh:function(){return im?this.a?t(B(this),C(this)):r(D(imag)):f(E(real))}};p.realToComplex=f;p.imagToComplex=r;u.ComplexNumber=p;F(u.ComplexNumber)}})(this);
